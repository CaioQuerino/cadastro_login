<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;900&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <title>Login</title>
    <link rel="stylesheet" href="/cadastro_login/src/css/style.css" type="text/css">
</head>
<body>
    <form action="/cadastro_login/src/api/login.php" method="POST" id="form-login">
        <h1>Login</h1>
        
        <fieldset>
            <label for="email">E-mail <span>*</span></label>
            <div id="message-error-email" class="error-message"></div>

            <input 
                type="email" 
                name="email" 
                id="email"
                placeholder="Enter your e-mail"
                pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}"
                title="Please enter a valid email address"
                required
                maxlength="100"
                autocomplete="email"
            >                

            <label for="password">Password <span>*</span></label>
            <div id="message-error-password" class="error-message"></div>

            <input 
                type="password" 
                name="password" 
                id="password"
                placeholder="Digite sua senha"
                required
                minlength="8"
                maxlength="64"
                autocomplete="current-password"
            >
        </fieldset>

        <div class="div-container-button">
            <button type="submit">Submit</button>
            <button type="reset">Limpar</button>
        </div>

        <div class="div-container-link">
            <p>Don't have an account? <a href="/cadastro_login/">Register</a></p>
            <p><a href="/cadastro_login/src/pages/recuperar.html">Recover password</a></p>
        </div>

    </form>

    <script>
        // Adicionando proteção básica contra brute-force
        let attempts = 0;
        const maxAttempts = 5;
        
        document.getElementById('form-login').addEventListener('submit', function(e) {
            attempts++;
            if (attempts > maxAttempts) {
                e.preventDefault();
                alert('Too many attempts. Please try again later.');
                // Aqui você pode desativar o formulário ou redirecionar
            }
        });
    </script>
</body>
</html>